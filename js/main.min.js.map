{"version":3,"sources":["main.js"],"names":["dataAmount","paginAmount","friends","document","getElementById","pagination","modal","modalContent","modalClose","paginIndex","showActiveList","data","lastIndex","firstIndex","length","Math","floor","window","location","href","indexOf","i","console","log","innerHTML","photo","name","fetch","then","res","json","ceil","num","classList","add","forEach","el","addEventListener","e","elem","remove","Number","toElement","dataset","id","scrollTo","createActivePagin","querySelectorAll","mySwiper","appendSlide","index","breed","description","additional","age","inoculations","diseases","parasites","createModal","header","colorHeader","pageYOffset","style","backgroundColor","paddingTop","onload","Swiper","loop","spaceBetween","slidesPerView","preventClicks","preventClicksPropagation","navigation","nextEl","prevEl"],"mappings":"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","file":"main.min.js","sourcesContent":["(function () {\r\n    'use strict'\r\n\r\n    let friends = document.getElementById('friends'),\r\n        pagination = document.getElementById('pagination'),\r\n        sliderWrapper = document.getElementById('sliderWrapper'),\r\n        modal = document.getElementById('modal'),\r\n        modalContent = document.getElementById('modalContent'),\r\n        modalClose = document.getElementById('modalClose')\r\n\r\n    let paginIndex = 1,\r\n        objects = 8,\r\n        dataAmount,\r\n        paginAmount\r\n\r\n\r\n\r\n    function createActivePagin(num, data) {\r\n        num[paginIndex - 1].classList.add('active')\r\n\r\n        num.forEach(function (el) {\r\n            el.addEventListener('click', function (e) {\r\n\r\n                num.forEach((elem) => {\r\n                    elem.classList.remove('active')\r\n                })\r\n                paginIndex = Number(e.toElement.dataset.id);\r\n\r\n                friends.innerHTML = ''\r\n                showActiveList(data, paginIndex)\r\n                num[paginIndex - 1].classList.add('active')\r\n                window.scrollTo(0, 0)\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    function showActiveList(data, paginIndex) {\r\n        let lastIndex = (paginIndex * objects) - 1;\r\n        let firstIndex = (lastIndex - (objects - 1));\r\n\r\n        if (lastIndex > data.length) {\r\n            lastIndex = data.length - 1;\r\n            firstIndex = (lastIndex - (data.length - (objects * Math.floor(data.length / objects)))) + 1;\r\n        }\r\n\r\n        // console.log(firstIndex, lastIndex);\r\n        if (window.location.href.indexOf('pets') > -1) {\r\n            for (let i = firstIndex; i <= lastIndex; i++) {\r\n                console.log(i)\r\n                friends.innerHTML += `\r\n                <div class=\"card\">\r\n                    <div class=\"card__img-wrap\"><img src=\"${data[i].photo}\" alt=\"Pet\" class=\"card__img\"></div>\r\n                    <span class=\"card__name\">${data[i].name}</span>\r\n                    <button class=\"btn btn--primary card__btn\" data-id=\"${i}\">Learn More</button>\r\n                </div>`\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    fetch('json/db.json')\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            if (window.location.href.indexOf('pets') > -1) {\r\n                dataAmount = data.length;\r\n                paginAmount = Math.ceil(dataAmount / objects)\r\n                for (let i = 1; i <= paginAmount; i++) {\r\n                    pagination.innerHTML += `\r\n                <button class=\"pagination__item\" data-id=\"${i}\">${i}</button>`\r\n                }\r\n                let paginNum = document.querySelectorAll('.pagination__item')\r\n                createActivePagin(paginNum, data)\r\n\r\n            }\r\n\r\n            showActiveList(data, paginIndex)\r\n\r\n            if (window.location.href.indexOf('pets') === -1) {\r\n                for (let i = 1; i <= 6; i++) {\r\n                    mySwiper.appendSlide([`\r\n                    <div class=\"swiper-slide card\">\r\n                        <div class=\"card__img-wrap\"><img src=\"${data[i].photo}\" alt=\"Pet\" class=\"card__img\"></div>\r\n                        <span class=\"card__name\">${data[i].name}</span>\r\n                        <button class=\"btn btn--primary card__btn\" data-id=\"${i}\">Learn More</button>\r\n                    </div>\r\n                `]);\r\n                }\r\n            }\r\n\r\n            let cardBtns = document.querySelectorAll('.card__btn');\r\n            cardBtns.forEach(el => {\r\n                el.addEventListener('click', function (e) {\r\n                    let index = e.toElement.dataset.id;\r\n                    createModal(index);\r\n                    modal.classList.add('opened')\r\n                })\r\n            });\r\n\r\n            modalClose.addEventListener('click', function () {\r\n                modal.classList.remove('opened')\r\n            });\r\n\r\n            function createModal(index) {\r\n                modalContent.innerHTML = `\r\n                <div class=\"modal__wrap\">\r\n                    <img src=\"${data[index].photo}\" alt=\"\" class=\"modal__img\" />\r\n                </div>\r\n                <div class=\"modal__info\">\r\n                    <h3 class=\"modal__name\">${data[index].name}</h3>\r\n                    <span class=\"modal__breed\">${data[index].breed}</span>\r\n                    <p class=\"modal__description\">${data[index].description}</p>\r\n                    <ul class=\"modal__list\">\r\n                        <li class=\"modal__item\">\r\n                        <span class=\"modal__data\">Age: ${data[index].additional.age}</span>\r\n                        </li>\r\n                        <li class=\"modal__item\">\r\n                        Inoculations: ${data[index].additional.inoculations}\r\n                        </li>\r\n                        <li class=\"modal__item\">\r\n                        Diseases: ${data[index].additional.diseases}\r\n                        </li>\r\n                        <li class=\"modal__item\">\r\n                        Parasites: ${data[index].additional.parasites}\r\n                        </li>\r\n                    </ul>\r\n                </div>`\r\n            }\r\n\r\n\r\n        });\r\n})()\r\nlet header = document.getElementById('header');\r\n\r\n\r\nfunction colorHeader() {\r\n  if (pageYOffset >= 100) {\r\n    header.style.backgroundColor = \"rgba(56, 44, 39, 0.9)\";\r\n    header.style.paddingTop = '10px'\r\n  } else {\r\n    header.style.backgroundColor = \"transparent\";\r\n    header.style.paddingTop = '45px'\r\n  }\r\n}\r\n\r\nif (window.location.href.indexOf('pets') === -1) {\r\n  window.onload = function () {\r\n    colorHeader()\r\n  }\r\n  window.addEventListener(\"scroll\", function () {\r\n    colorHeader()\r\n  });\r\n}\r\nvar mySwiper = new Swiper('.swiper-container', {\r\n  loop: true,\r\n  spaceBetween: 50,\r\n  slidesPerView: 3,\r\n  preventClicks: false,\r\n  preventClicksPropagation: false,\r\n\r\n  navigation: {\r\n    nextEl: '.slider__arrow--right',\r\n    prevEl: '.slider__arrow--left',\r\n  },\r\n})"]}